<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <title>The Sound of Time - Dialog Feedback (SVG)</title>
    <link rel="stylesheet" href="style_v1.css" />
    <style>
        /* Additional styling for better visualization */
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.5;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .visualization-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: flex-start;
            gap: 20px;
            margin: 20px 0;
        }
        
        .zcm-container, .speaker-container {
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
            background-color: #f9f9f9;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            flex: 1;
            min-width: 450px;
        }
        
        #zcm-svg-wrapper, #speaker-svg-wrapper {
            width: 100%;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
            touch-action: none; /* Prevent touch scrolling */
        }
        
        .coords-display {
            font-family: monospace;
            text-align: center;
            font-size: 14px;
            margin: 10px 0;
            padding: 4px;
            background-color: #f0f0f0;
            border-radius: 4px;
        }
        
        h2, h3 {
            text-align: center;
            color: #444;
        }
        
        h2 {
            margin-top: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .explanation {
            max-width: 1000px;
            margin: 30px auto;
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #666;
        }
        
        .explanation h3 {
            text-align: left;
            margin-top: 0;
            color: #333;
        }
        
        .metaphor-examples {
            margin-top: 20px;
        }
        
        .example {
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .example-header {
            font-weight: bold;
            color: #555;
            border-bottom: 1px solid #eee;
            padding-bottom: 6px;
            margin-bottom: 10px;
        }
        
        .dialog {
            padding-left: 15px;
            margin-bottom: 8px;
        }
        
        .metaphor-mapping {
            font-style: italic;
            color: #555;
            border-left: 3px solid #ccc;
            padding-left: 12px;
            margin-top: 10px;
        }
        
        @media (max-width: 950px) {
            .visualization-container {
                flex-direction: column;
            }
            .zcm-container, .speaker-container {
                min-width: auto;
                width: 100%;
            }
        }
    </style>
</head>
<body>

    <h2>The Sound of Time: Dialog as Catastrophe & Compression</h2>

    <div class="visualization-container">
        <div class="zcm-container">
            <h3>Zeeman Catastrophe Machine (Dialog State)</h3>
            <div id="zcm-svg-wrapper">
                <svg id="zcm-svg" viewBox="-200 -250 400 400" preserveAspectRatio="xMidYMid meet">
                    <!-- ZCM elements will be added by JS -->
                </svg>
            </div>
            <p id="zcm-coords" class="coords-display">u: 0.00, v: 0.00 | θ: 0.00</p>
        </div>

        <div class="speaker-container">
            <h3>Sound Metaphor (Meaning Expression)</h3>
            <div id="speaker-svg-wrapper">
                <svg id="speaker-svg" viewBox="0 0 550 350" preserveAspectRatio="xMidYMid meet">
                    <!-- Speaker elements will be added by JS -->
                </svg>
            </div>
            <p id="speaker-info" class="coords-display">Displacement: 0.0</p>
        </div>
    </div>

    <div class="explanation">
        <h3>The Metaphor: Dialog as Catastrophic Sound Wave</h3>
        <p>This visualization models human dialog through two integrated metaphors based on physics:
        
        <ol>
            <li><strong>The Zeeman Catastrophe Machine (Left)</strong> - Represents the internal state of 
            understanding during a conversation. The wheel's angle (θ) is the current stable "meaning" that 
            emerges from dialog.</li>
            <li><strong>The Sound Wave (Right)</strong> - Represents how meaning is conveyed through 
            language, with the speaker piston generating pressure waves that propagate through the medium.</li>
        </ol>
        
        <p>The key insight is that <em>changes</em> in meaning (dθ) drive the sound wave - when meaning 
        shifts dramatically (a "catastrophe"), the wave is stronger. This embodies Agamben's theory of 
        Voice as the threshold between mere sound and meaningful language.</p>
        
        <p><strong>How to interact:</strong> Click and drag within the ZCM area (left panel) to set the dialog state.
        Watch how the movement affects both the wheel's rotation and the sound wave generation.</p>
        
        <div class="metaphor-examples">
            <h4>Example Dialog Mappings:</h4>
            
            <div class="example">
                <div class="example-header">Smooth Agreement</div>
                <div class="dialog"><strong>Person A:</strong> "Nice weather today."</div>
                <div class="dialog"><strong>Person B:</strong> "Yes, lovely."</div>
                <div class="metaphor-mapping">Small change in θ → small speaker movement → gentle waves → minimal feedback</div>
            </div>
            
            <div class="example">
                <div class="example-header">Sudden Misunderstanding ("Bad" Catastrophe)</div>
                <div class="dialog"><strong>Person A:</strong> "Your suggestion wasn't very helpful."</div>
                <div class="dialog"><strong>Person B:</strong> "Excuse me?!"</div>
                <div class="metaphor-mapping">Large jump in θ → large speaker displacement (compression) → strong wave → significant feedback making next move more difficult</div>
            </div>
            
            <div class="example">
                <div class="example-header">Breakthrough ("Good" Catastrophe)</div>
                <div class="dialog"><strong>Person A:</strong> "I feel like we're stuck arguing about details."</div>
                <div class="dialog"><strong>Person B:</strong> "Maybe we need to redefine the actual problem?"</div>
                <div class="metaphor-mapping">Moderate jump in θ to a new stable perspective → noticeable speaker displacement → medium wave → some feedback that changes the dialog's trajectory</div>
            </div>
            
            <div class="example">
                <div class="example-header">Feedback and Resistance</div>
                <div class="dialog"><strong>Context:</strong> After a heated exchange (large prior displacement)</div>
                <div class="dialog"><strong>Person A tries to de-escalate:</strong> "Let's try to be calm."</div>
                <div class="metaphor-mapping">Previous speaker movement creates resistance on the v-axis (emotional tone) → your intended calm position is shifted by feedback → demonstrating how past interactions affect present dialog</div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script type="text/javascript" src="zcm_svg_v1.js"></script>

</body>
</html>